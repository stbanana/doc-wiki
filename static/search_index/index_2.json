{"/HiLBase/zh_hans/系统指令.html":{"title":"","content":" class: heading_no_counter draft: false # 系统指令(00~1F) ## 速查表 事务号(2字节) CMD(2字节) 拓展信息(2字节) 长度信息(大端2字节)<br />消息及和校验的总长 消息(x字节) 和校验(小端2字节) xx xx 00 00<br />系统指令 00 01:清除数据<br />00 02:启动仿真<br />00 03:停止仿真<br />00 04:暂停仿真<br />00 50:使用R模型<br />00 51:使用LC模型 00 04 5A A5 xx xx "},"/HiLBase/zh_hans/矩阵配置.html":{"title":"","content":" class: heading_no_counter draft: false # 矩阵配置(20~3F) ## 速查表 事务号(2字节) CMD(2字节) 拓展信息(2字节) 长度信息(大端2字节)<br />消息及和校验的总长 消息(x字节) 和校验(小端2字节) xx xx 00 20 00 01：指示后续配置的仿真矩阵类型 00 04 xx xx<br />0：指示R仿真<br />1：指示LC仿真 xx xx 后续省略**事务号**、**和校验**段，便于速查 CMD(2字节) 拓展信息(2字节) 长度信息(大端2字节)<br />消息及和校验的总长 消息(x字节) 00 20 00 01：指示后续配置的仿真矩阵类型 00 04 xx xx<br />0：指示R仿真<br />1：指示LC仿真 00 20 00 02：指示仿真矩阵序号 00 04 xx xx<br />0~3C 00 20 00 03：指示仿真矩阵开关序列（32位 低20位表示开关管 高12位表示二极管） 00 06 xx xx xx xx 00 20 00 10：清除所有矩阵配置 00 04 5A A5 00 20 00 11：清除所指示的矩阵配置 00 04 5A A5 00 21<br />历史电流源初始值<br />J xx xx<br />预留 行数(向量) xx xx 逐个发送字节，每4字节为一个浮点(小端直接发送) 00 22<br />支路属性标记向量<br />attr xx xx<br />预留 行数(向量) xx xx 逐个发送字节，支路属性标记只有1、2、3、4等数个固定元素，所以这个矩阵计算可以特解 00 23<br />矩阵综合影响参数<br />pp xx xx<br />预留 矩阵行列数(必然是n*n矩阵) xx xx 每4字节为一个浮点(小端直接发送)<br />逐行发送，例如2*2矩阵，将先发送第一行的2个浮点，8个字节，再发送第二行，一共16个字节 00 28<br />支路L导纳向量<br />YL xx xx<br />预留 行数(向量) xx xx 逐个发送字节，每4字节为一个浮点(小端直接发送) 00 29<br />支路C导纳向量<br />YC xx xx<br />预留 行数(向量) xx xx 逐个发送字节，每4字节为一个浮点(小端直接发送) 00 2A<br />支路阻值导纳向量<br />YR xx xx<br />预留 行数(向量) xx xx 逐个发送字节，每4字节为一个浮点(小端直接发送) ## 配置流程 ``符号标识分割段，便于肉眼识别协议，不是真正需要发送的字节 ``` 01 FE 00 20 00 10 00 04 5A A5 32 02\t\t// 指示清除矩阵配置，此时清除矩阵以及 序号 矩阵映射表 02 FD 00 20 00 01 00 04 00 01 25 01\t\t// 指示后续配置 LC 模型矩阵 03 FC 00 21 XX XX XX XX XX XX XX... XX XX\t// 配置 LC 模型使用的 J 初值 04 FB 00 22 XX XX XX XX XX XX XX... XX XX\t// 配置使用的 attr 标记 05 FA 00 23 XX XX XX XX XX XX XX... XX XX\t// 配置 LC 模型使用的 pp 06 F9 00 28 XX XX XX XX XX XX XX... XX XX\t// 配置 LC 模型使用的 YL 07 F8 00 29 XX XX XX XX XX XX XX... XX XX\t// 配置 LC 模型使用的 YC 08 F7 00 2A XX XX XX XX XX XX XX... XX XX\t// 配置 LC 模型使用的 YR 0A F5 00 00 00 02 00 04 5A A5 04 02\t\t// 启动仿真 ...... // 此时可以回报所有可能使用的开关组合 0B F4 00 20 00 01 00 04 00 00 24 01\t\t// 指示后续配置 R 模型矩阵 0C F3 00 20 00 02 00 04 00 00 25 01\t\t// 指示后续配置 R 模型序号 0 映射 0D F2 00 20 00 03 00 06 00 00 00 00 28 01\t// 指示序号 0 映射开关序列为 0x000 00000 05 FA 00 23 XX XX XX XX XX XX XX... XX XX\t// 配置 R 模型序号 0 映射使用的 pp 06 F9 00 28 XX XX XX XX XX XX XX... XX XX\t// 配置 R 模型使用的 YL(这里所有映射共用) 07 F8 00 29 XX XX XX XX XX XX XX... XX XX\t// 配置 R 模型使用的 YC(这里所有映射共用) 08 F7 00 2A XX XX XX XX XX XX XX... XX XX\t// 配置 R 模型使用的 YR(这里所有映射共用) 0E F1 00 20 00 02 00 04 00 01 26 01\t\t// 指示后续配置 R 模型序号 1 映射 0F F0 00 20 00 03 00 06 00 00 00 01 29 01\t// 指示序号 1 映射开关序列为 0x000 00001 05 FA 00 23 XX XX XX XX XX XX XX... XX XX\t// 配置 R 模型序号 1 映射使用的 pp 10 EF 00 20 00 02 00 04 00 02 27 01\t\t// 指示后续配置 R 模型序号 2 映射 11 EE 00 20 00 03 00 06 00 10 00 01 39 01\t// 指示序号 2 映射开关序列为 0x001 00001 05 FA 00 23 XX XX XX XX XX XX XX... XX XX\t// 配置 R 模型序号 2 映射使用的 pp ...... // 配置后续所有的 序号 矩阵 映射 09 F6 00 00 00 50 00 04 5A A5 53 02\t\t// 配置使用R模型 ```"},"/HiLBase/zh_hans/index.html":{"title":"","content":" update: date: 2025 04 22 author: yono version: 0.1.0 content: 定义整体文档结构 update_open: true # 整体协议结构 完全的简单应用层协议，以适应不同传输层接口。本协议不涉及验证和加密，应由更上层完成。 > [!NOTE] > > 整个文档中涉及的数字均为 16 进制，不再添加 0x 或 h 指示。 ## 整体单帧结构 事务号(2字节) CMD(2字节) 拓展信息(2字节) 长度信息(大端2字节) 消息(x字节) 和校验(小端2字节) 事务号：第一字节是累计的事务号(0~FF)，第二字节是其反码 CMD：指示了应该使用哪个解析系统，对消息第 1 次分流 拓展信息：对 CMD 信息的拓展补充，可用于第 2 次解析分流，也可用于补充解析所需信息 长度信息：指示**消息**及**和校验**的总长。 消息：事实上需要处理的可变长消息 和校验：此前所有段的字节和，用于简单校验 ## 通用回复表达 大部分请求不需要回复有效信息，仅需回复接收到了指令且执行成功，所以有通用的回复表达为。 事务号(2字节) CMD(2字节) 拓展信息(2字节) 长度信息(大端2字节) 消息(2字节) 和校验(小端2字节) 复制请求 复制请求 复制请求 00 04 见下方信息表 计算得到 消息为 00 00：成功执行 00 01：通用失败执行 00 10：当前状态忙，无法执行 00 11：当前状态禁止执行"},"/HiLBase/zh_hans/运行强制指令.html":{"title":"","content":" class: heading_no_counter draft: false # 运行强制指令(60~7F) ## 速查表 事务号(2字节) CMD(2字节) 拓展信息(2字节) 长度信息(大端2字节)<br />消息及和校验的总长 消息(x字节) 和校验(小端2字节) xx xx 00 60 预留 00 04 5A A5 xx xx 后续省略**事务号**、**和校验**段，便于速查 CMD(2字节) 拓展信息(2字节) 长度信息(大端2字节)<br />消息及和校验的总长 消息(x字节) 00 61 xx xx<br />强制电压设置，第n个支路，大端16位 00 04 xx xx xx xx<br />浮点电压值(小端直接发送) 00 62 xx xx<br />强制电流设置，第n个支路，大端16位 00 04 xx xx<br />浮点电流值(小端直接发送) "},"/HiLBase/zh_hans/仿真配置.html":{"title":"","content":" class: heading_no_counter draft: false # 仿真配置(40~5F) ## 速查表 事务号(2字节) CMD(2字节) 拓展信息(2字节) 长度信息(大端2字节)<br />消息及和校验的总长 消息(x字节) 和校验(小端2字节) xx xx 00 40 00 01：清除管脚配置 00 04 5A A5 xx xx 后续省略**事务号**、**和校验**段，便于速查 CMD(2字节) 拓展信息(2字节) 长度信息(大端2字节)<br />消息及和校验的总长 消息(x字节) 00 41 xx xx<br />配置电压数据输出端口，大端16位 00 04 xx xx<br />第n个支路，大端16位 00 42 xx xx<br />配置电流数据输出端口，大端16位 00 04 xx xx<br />第n个支路，大端16位 00 43 xx xx<br />配置电压数据输入端口，大端16位 00 04 xx xx<br />第n个支路，大端16位 00 44 xx xx<br />配置电流数据输入端口，大端16位 00 04 xx xx<br />第n个支路，大端16位 "}}